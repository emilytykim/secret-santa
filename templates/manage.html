{% extends "base.html" %}
{% block title %}Create or Manage Secret Santa{% endblock %}
{% block content %}

<div class="container">
    <h1>ğŸ Create a Secret Santa Group</h1>
    <p>Fill out the form below to start a new Secret Santa party.</p>

    <form action="/manage" method="POST" autocomplete="off">
        <div class="form-group">
            <input type="text" name="group_name" placeholder="Group Name" required autocomplete="off">
        </div>
        <div class="form-group">
            <input type="number" name="group_size" placeholder="Group Size" required min="1" autocomplete="off">
        </div>
        <button type="submit" class="btn btn-primary">Create Group</button>
    </form>

    <hr>

    <h2>ğŸ‘‘ Admin Login</h2>
    <p>If you already created a group, paste your admin token to manage it.</p>
    <form action="/admin_login" method="POST" autocomplete="off">
        <div class="form-group">
            <input type="text" name="admin_token" placeholder="Enter Admin Token" required autocomplete="off">
        </div>
        <button type="submit" class="btn btn-secondary">Log In to Manage</button>
    </form>

    <br>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="alert-container">
                {% for category, message in messages %}
                    <div class="alert {{ category }}">{{ message|safe }}</div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <a href="{{ url_for('home') }}" class="btn">ğŸ  Back to Home</a>
</div>

{% endblock %}
